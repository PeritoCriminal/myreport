{% extends 'base.html' %}

{% block center_content %}
    <section class="posts">
        {% for post in posts %}
            <article class="post ">
                <img src="{{ post.author.profile_picture.url }}" class="post-authorimg" alt="">
                <h1 class="post-title">{{ post.title }}</h1>

                {% if request.user == post.author %}
                    <a href="{% url 'edit_post' post.id %}" class="create-post-link" title="Editar post">
                        <i class="fas fa-edit"></i>
                    </a>
                    <a href="{% url 'delete_post' post.id %}" 
                        class="delete-post-link" 
                        title="Deletar post" 
                        onclick="return confirm('Tem certeza que deseja deletar esta postagem? Esta ação não pode ser desfeita.');">
                        <i class="fas fa-trash-alt"></i>
                    </a>
                {% endif %}

                <p class="post-content">{{ post.content | linebreaks }}</p>
                {% if post.image %}
                    <img src="{{ post.image.url }}" alt="Imagem relacionada à postagem: {{ post.title }}" class="post-image">
                {% else %}
                    <p class="no-image">Essa postagem não possui uma imagem.</p>
                {% endif %}
                <p><strong>{{ post }}</strong></p>
                <br/>
                <hr class="post-divider">
            </article>
        {% empty %}
            <p>Não há postagens disponíveis no momento.</p>
        {% endfor %}
    </section>
{% endblock center_content %}
