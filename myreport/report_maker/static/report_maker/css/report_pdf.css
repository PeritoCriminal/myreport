/* ==========================================================================
   Report Maker — PDF (WeasyPrint)
   Arquivo: static/report_maker/css/report_pdf.css
   Objetivo: Cabeçalho/rodapé, tipografia técnica e controle de quebras
   ========================================================================== */

/* ===========================
   PÁGINA (A4) + HEADER/FOOTER
   =========================== */

@page {
  size: A4;
  margin: 5cm 2cm 4cm 3cm; /* sup dir inf esq */

  @top-center {
    content: element(doc_header);
  }

  @bottom-right {
    content: element(doc_footer);
  }
}

/* Registra elementos repetidos */
.header-running { position: running(doc_header); }
.footer-running { position: running(doc_footer); }

/* ===========================
   BASE & TIPOGRAFIA
   =========================== */

html, body {
  margin: 0;
  padding: 0;
  background: #fff;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 12pt;
  line-height: 1.5;
  color: #000;
}

/* Evita quebras órfãs em elementos estruturais */
h1, h2, h3, 
.section-heading, 
.object-subtitle, 
.report-figure, 
.report-header,
.geo-block,
.report-signature {
  break-inside: avoid;
}

/* Controle de Órfãs/Viúvas */
p, li {
  widows: 4;
  orphans: 4;
}

/* ===========================
   CABEÇALHO INSTITUCIONAL
   =========================== */

.header-running {
  padding: 0 0 8pt 0;
  margin-top: 50pt;
}

.report-header {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

.rh-img {
  width: 18mm;
  vertical-align: middle;
  text-align: center;
}

.rh-center {
  vertical-align: middle;
  text-align: center;
  padding: 0 6mm;
}

.rh-emblem {
  display: inline-block;
  width: 16mm;
  height: 16mm;
  object-fit: contain;
}

.rh-line {
  margin: 0;
  padding: 0;
  line-height: 1.1;
}

.rh-1, .rh-2, .rh-3 { font-weight: 700; text-transform: uppercase; }
.rh-1 { font-size: 10pt; letter-spacing: 0.2pt; }
.rh-2 { font-size: 10pt; margin-top: 2pt; }
.rh-3 { font-size: 9.5pt; margin-top: 2pt; }
.rh-4 { font-size: 9pt; font-style: italic; margin-top: 2pt; }
.rh-5 { font-size: 9pt; margin-top: 2pt; }

.report-number {
  margin: 8pt 0 18pt 0;
  font-size: 13pt;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3pt;
  text-align: center;
}

/* ===========================
   RODAPÉ
   =========================== */

.footer-running {
  padding: 6pt 0 0 0;
  border-top: 1px solid #000;
  font-size: 10pt;
}

.footer-running .footer-meta,
.footer-running .footer-page {
  display: block;
  text-align: right;
  line-height: 1.15;
}

.footer-running .page-count::before {
  content: "Página " counter(page) " de " counter(pages);
}

/* ===========================
   CONTEÚDO E LISTAS TÉCNICAS
   =========================== */

p {
  text-align: justify;
  margin: 0 0 12pt 0;
  white-space: pre-line;
}

/* Listas Customizadas (Estilo Laudo) */
ul {
  margin: 0 0 12pt 0;
  padding: 0;
  list-style-type: none; /* Remove bolinhas */
}

ul li {
  position: relative;
  padding-left: 15pt;
  margin-bottom: 4pt;
  text-align: justify;
}

ul li::before {
  content: "–"; /* Traço técnico (en-dash) */
  position: absolute;
  left: 0;
  font-weight: bold;
}

ol {
  margin: 0 0 12pt 20pt;
  padding: 0;
}

/* ===========================
   TÍTULOS
   =========================== */

h1, h2, h3, .section-heading, .object-subtitle {
  break-after: avoid;
}

.section-heading {
  font-size: 12pt;
  font-weight: 700;
  margin: 16pt 0 8pt 0;
  text-transform: uppercase;
}

.object-subtitle {
  font-size: 11pt;
  font-weight: 700;
  margin: 12pt 0 4pt 0;
}

h1 { font-size: 14pt; font-weight: 600; margin: 26pt 0 10pt 0; text-transform: uppercase; }
h2 { font-size: 12pt; font-weight: 600; margin: 20pt 0 8pt 0; }
h3 { font-size: 11pt; font-weight: 600; margin: 14pt 0 6pt 0; }

/* ===========================
   FIGURAS E GEO
   =========================== */

.report-figure {
  display: block;
  /* A largura agora é controlada pelo style="..." no HTML */
  margin-bottom: 18pt;
  page-break-inside: avoid; /* Evita que a imagem e a legenda fiquem em páginas diferentes */
}

.report-figure img {
  display: block;
  width: 100%;       /* Ocupa 100% da largura do <figure> pai */
  height: auto;
  max-width: 100%;   /* Garante que não ultrapasse o pai */
  max-height: 18cm;  /* Limite de altura para não "estourar" a folha A4 */
  object-fit: contain;
  border: 1px solid #222;
  margin: 0 auto;
}

.report-figure figcaption {
  margin-top: 5pt;
  font-size: 11pt;
  font-style: italic;
  text-align: center;
  line-height: 1.2;
}

.geo-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

.geo-qr {
  width: 34mm;
  padding-right: 8pt;
  vertical-align: middle;
  text-align: center;
}

.geo-qr-img {
  width: 30mm;
  height: 30mm;
  object-fit: contain;
}

.geo-link-title { font-weight: 700; margin: 0 0 2pt 0; }
.geo-link-url { text-decoration: underline; overflow-wrap: anywhere; word-break: break-word; }

/* ===========================
   FINALIZAÇÃO
   =========================== */

.report-signature {
  margin-top: 36pt;
  text-align: right;
  line-height: 1.4;
}

.page-break { break-before: page; }

a { word-break: break-all; overflow-wrap: anywhere; }