{% extends "base.html" %}
{% load static %}

{% block title %}
  {{ obj.title }}
{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 900px;">

  {# Título apenas informativo, sem botões #}
  <div class="mb-4">
    <h4 class="mb-0">{{ obj.title }}</h4>
  </div>

  {% if obj.description %}
    <section class="mb-3">
      <h6>Descrição</h6>
      <p class="mb-0">{{ obj.description|linebreaks }}</p>
    </section>
  {% endif %}

  {% if obj.methodology %}
    <section class="mb-3">
      <h6>Metodologia</h6>
      <p class="mb-0">{{ obj.methodology|linebreaks }}</p>
    </section>
  {% endif %}

  {% if obj.examination %}
    <section class="mb-3">
      <h6>Exame</h6>
      <p class="mb-0">{{ obj.examination|linebreaks }}</p>
    </section>
  {% endif %}

  {% if obj.results %}
    <section class="mb-3">
      <h6>Resultados</h6>
      <p class="mb-0">{{ obj.results|linebreaks }}</p>
    </section>
  {% endif %}

  {# Barra única de ações no rodapé #}
  <div class="mt-5 d-flex justify-content-between align-items-center">

    <a
      href="{% url 'report_maker:report_detail' obj.report_case.pk %}"
      class="btn btn-outline-secondary btn-sm"
    >
      Voltar ao laudo
    </a>

    {% if obj.report_case.can_edit %}
      <div class="btn-group">
        <a
          href="{% url 'report_maker:generic_object_update' obj.pk %}"
          class="btn btn-outline-primary btn-sm"
        >
          Editar Objeto
        </a>
        <a
          href="{% url 'report_maker:generic_object_delete' obj.pk %}"
          class="btn btn-outline-danger btn-sm"
        >
          Excluir Objeto
        </a>
      </div>
    {% endif %}

  </div>

</div>
{% endblock %}
