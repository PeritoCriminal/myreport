{% extends "base.html" %}
{% load static %}

{% block title %}
  {{ obj.title }}
{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 900px;">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">{{ obj.title }}</h4>

    {% if obj.report_case.can_edit %}
      <div class="btn-group">
        <a
          href="{% url 'report_maker:generic_object_update' obj.pk %}"
          class="btn btn-sm btn-outline-primary"
        >
          Editar
        </a>
        <a
          href="{% url 'report_maker:generic_object_delete' obj.pk %}"
          class="btn btn-sm btn-outline-danger"
        >
          Excluir
        </a>
      </div>
    {% endif %}
  </div>

  {% if obj.description %}
    <section class="mb-3">
      <h6>Descrição</h6>
      <p class="mb-0">{{ obj.description|linebreaks }}</p>
    </section>
  {% endif %}

  {% if obj.methodology %}
    <section class="mb-3">
      <h6>Metodologia</h6>
      <p class="mb-0">{{ obj.methodology|linebreaks }}</p>
    </section>
  {% endif %}

  {% if obj.examination %}
    <section class="mb-3">
      <h6>Exame</h6>
      <p class="mb-0">{{ obj.examination|linebreaks }}</p>
    </section>
  {% endif %}

  {% if obj.results %}
    <section class="mb-3">
      <h6>Resultados</h6>
      <p class="mb-0">{{ obj.results|linebreaks }}</p>
    </section>
  {% endif %}

  <div class="mt-4 d-flex justify-content-between">
    <a
      href="{% url 'report_maker:report_detail' obj.report_case.pk %}"
      class="btn btn-outline-secondary btn-sm"
    >
      Voltar ao laudo
    </a>

    {% if obj.report_case.can_edit %}
      <a
        href="{% url 'report_maker:generic_object_update' obj.pk %}"
        class="btn btn-outline-primary btn-sm"
      >
        Editar objeto
      </a>
    {% endif %}
  </div>

</div>
{% endblock %}
