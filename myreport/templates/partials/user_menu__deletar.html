{% load static %}

{% if user.is_authenticated %}
  <div class="d-flex align-items-center gap-2">
    {% if user.profile_image %}
      <img src="{{ user.profile_image.url }}" class="rounded-circle border" width="36" height="36" alt="Foto de perfil" style="object-fit:cover;">
    {% else %}
      <img src="{% static 'myreport/img/default-profile.png' %}" class="rounded-circle border" width="36" height="36" alt="Foto de perfil padrÃ£o" style="object-fit:cover;">
    {% endif %}

    <div class="small">
      <div class="fw-semibold">{{ user.display_name }}</div>
      <div class="text-muted">@{{ user.username }}</div>
    </div>
  </div>

  <div class="mt-3 d-grid gap-2">
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'accounts:profile_edit' %}">
      <i class="bi bi-person"></i> Editar perfil
    </a>
    <a class="btn btn-outline-secondary btn-sm" href="{% url 'accounts:password_change' %}">
      <i class="bi bi-key"></i> Alterar senha
    </a>
    <a class="btn btn-outline-danger btn-sm" href="{% url 'accounts:logout' %}">
      <i class="bi bi-box-arrow-right"></i> Sair
    </a>
  </div>
{% else %}
  <div class="d-grid gap-2">
    <a href="{% url 'accounts:login' %}" class="btn btn-outline-primary btn-sm">Entrar</a>
    <a href="{% url 'accounts:register' %}" class="btn btn-primary btn-sm">Criar conta</a>
  </div>
{% endif %}
